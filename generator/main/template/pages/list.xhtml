<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="/template/template.xhtml">

    <ui:define name="title">Query</ui:define>

    <ui:define name="content">
        <f:metadata>
			<f:viewParam name="id" value="#{ENTITY_NAME_Bean.id}" />
			<f:event type="preRenderView" listener="#{ENTITY_NAME_Bean.initConversation}" />
		</f:metadata>

        <h:form id="ENTITY_NAME_ListForm" prependId="false">

            <p:panel styleClass="panel1">

                <f:facet name="header">
                    <img src="#{facesContext.externalContext.requestContextPath}/images/icons/tabTitle.gif" alt=""/>
                    <h:outputLabel value="Query    |    "/>
                    <h:outputLink value="#{facesContext.externalContext.requestContextPath}/faces/ENTITY_NAME_/input.xhtml">
                        <h:outputText value="Add"/>
                    </h:outputLink>
                </f:facet>

                <p:fieldset>
                    <h:panelGrid columns="4">

                        QUERY_ITEM_LIST

                        <p:commandButton action="#{ENTITY_NAME_Bean.search}"
                                         ajax="false" value="Query" image="ui-icon ui-icon-search"/>
                    </h:panelGrid>
                </p:fieldset>

                <br/>

      <p:dataTable var="ENTITY_NAME_" value="#{ENTITY_NAME_Bean.ENTITY_NAME_List}"
                 paginator="true" rows="2"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 rowsPerPageTemplate="2,10,15">

                    <f:facet name="header">List</f:facet>

    LIST_ITEM_LIST

                    <p:column style="width:80px;text-align:center;">
                        <f:facet name="header">
                            <h:outputText value="Action"/>
                        </f:facet>

                        <p:commandLink update=":ENTITY_NAME_Form:display" action="#{ENTITY_NAME_Bean.view}" oncomplete="ENTITY_NAME_Dialog.show()" value="Detail" ajax="false">
                            <f:setPropertyActionListener value="#{ENTITY_NAME_}" target="#{ENTITY_NAME_Bean.instance}"/>
                        </p:commandLink>

                        <p:commandLink update=":ENTITY_NAME_Form:display"  oncomplete="ENTITY_NAME_Dialog.show()" value="Edit">
                            <f:setPropertyActionListener value="#{ENTITY_NAME_}" target="#{ENTITY_NAME_Bean.instance}"/>
                        </p:commandLink>

                        <p:commandLink update=":ENTITY_NAME_Form:display"  oncomplete="confirmation.show()" value="Delete">
                            <f:setPropertyActionListener value="#{ENTITY_NAME_}" target="#{ENTITY_NAME_Bean.instance}"/>
                        </p:commandLink>

                    </p:column>

                </p:dataTable>

                <p:dialog header="Edit" widgetVar="ENTITY_NAME_Dialog" resizable="false" id="ENTITY_NAME_Dlg"
                          width="600" showEffect="fade" hideEffect="explode" modal="true">
                    <h:panelGrid id="display" columns="2" cellpadding="5" cellspacing="1" styleClass="style1"
                                 rowClasses="row1,row2" columnClasses="column1,column2" footerClass="footer1">

                        <ui:include src="input-item.xhtml"/>

                        <f:facet name="footer">
                            <p:commandButton id="btn_ENTITY_NAME__Save" action="#{ENTITY_NAME_Bean.save}" value="Save"  update="ENTITY_NAME_Table"
                                             image="ui-icon ui-icon-disk" ajax="false" title="Save"/>

                            <p:commandButton value="Cancel" onclick="ENTITY_NAME_Dialog.hide()" image="ui-icon ui-icon-cancel" title="Cancel"/>
                        </f:facet>

                    </h:panelGrid>

               </p:dialog>


                <p:confirmDialog message="Are you sure?"  hideEffect="explode"
                                 header="Confirm" severity="alert" widgetVar="confirmation">
                    <p:commandButton update=":ENTITY_NAME_Form:ENTITY_NAME_Table" value="Yes sure   " oncomplete="confirmation.hide()"
                                     actionListener="#{ENTITY_NAME_Bean.delete}"/>
                    <p:commandButton value="Not yet" onclick="confirmation.hide()" type="button"/>
                </p:confirmDialog>
            </p:panel>
        </h:form>

    </ui:define>

</ui:composition>

