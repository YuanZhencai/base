<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<p:outputPanel id="reportFileTable">
		<p:dataTable var="reportFile"
			value="#{reportFileBean.reportFileModel}"  rows="10" lazy="true"
			paginator="true" paginatorPosition="bottom"
			paginatorTemplate=" {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport}"
			selectionMode="single" rowKey="#{reportFile.id}"
			emptyMessage="无满足条件的结果">

			<p:column headerText="版本号">
				<h:outputText value="#{reportFile.versionNo}" />
			</p:column>
			<p:column headerText="文件夹名">
				<h:outputText value="#{reportFile.fileStoreLocation}" />
			</p:column>
			<p:column headerText="文件名">
				<h:outputText value="#{reportFile.fileName}" />
			</p:column>
			<p:column headerText="上传时间">
				<h:outputText value="#{reportFile.upLoadedDatetime}" />
			</p:column>
			<p:column headerText="使用">
				<ui:fragment rendered="#{reportFile.useInd}">
					<h:outputText value="√" />
				</ui:fragment>
			</p:column>
			<p:column headerText="备注">
				<h:outputText value="#{reportFile.remarks}" />
			</p:column>
			<p:column headerText="操作" styleClass="operating_30">
				<p:commandButton id="rptSet" image="ui-icon ui-icon-key" ajax="true" 
					update="reportFileTable,reportManager" title="是否使用该模板"
					action="#{reportFileBean.update}">
					<f:setPropertyActionListener target="#{reportFileBean.instance}"
						value="#{reportFile}" />
					<f:setPropertyActionListener target="#{reportFileBean.mastrId}"
						value="#{reportFile.reportMstr.id}" />
				</p:commandButton>

			</p:column>
		</p:dataTable>
	</p:outputPanel>

</ui:composition>

