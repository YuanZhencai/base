<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<p:outputPanel id="userPanel">
		<p:dataTable var="user" value="#{userBean.lazyModel}" paginator="true" rows="15" lazy="true" paginatorPosition="bottom"
			paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
			rowKey="#{user.id}" selectionMode="single">
			<f:facet name="header">用户列表</f:facet>
			<p:column headerText="姓名"><h:outputText value="#{user.userName}" /></p:column>
			<p:column headerText="账号"><h:outputText value="#{user.name}" /></p:column>
			<p:column headerText="电话"><h:outputText value="#{user.cellphoneNo}"/></p:column>

			<p:column headerText="操作" styleClass="operating_90">
				<p:commandButton update="userDetail" image="ui-icon ui-icon-zoomin" oncomplete="userDialog.show()" title="查看">
					<f:setPropertyActionListener value="#{user}" target="#{userBean.currentUser}" />
				</p:commandButton>
				<p:commandButton ajax="false" image="ui-icon ui-icon-person" title="角色设置" action="#{userBean.assignUserRole}">
					<f:setPropertyActionListener value="#{user}" target="#{userBean.currentUser}" />
				</p:commandButton>
			</p:column>
		</p:dataTable>
	</p:outputPanel>

</ui:composition>