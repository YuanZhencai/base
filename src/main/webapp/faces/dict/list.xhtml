<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="/template/template.xhtml">

    <ui:define name="title">Query</ui:define>

    <ui:define name="content">
        <f:metadata>
			<f:viewParam name="id" value="#{dictBean.id}" />
			<f:event type="preRenderView" listener="#{dictBean.initConversation}" />
		</f:metadata>

        <h:form id="dictListForm" prependId="false">

            <p:panel styleClass="panel1">

                <f:facet name="header">
                    <img src="#{request.contextPath}/images/icons/tabTitle.gif" alt=""/>
                    <h:outputLabel value="Query    |    "/>
                    <h:outputLink value="#{request.contextPath}/faces/dict/input.xhtml">
                        <h:outputText value="Add"/>
                    </h:outputLink>
                </f:facet>

                <p:fieldset>
                    <h:panelGrid columns="4">

                        
        <h:outputLabel value="value:"/>
        <input type="text" id="filter_LIKES_value" name="filter_LIKES_value"
            class="input_160" value="#{param['filter_LIKES_value']}"/>
        
        <h:outputLabel value="parentCode:"/>
        <input type="text" id="filter_LIKES_parentCode" name="filter_LIKES_parentCode"
            class="input_160" value="#{param['filter_LIKES_parentCode']}"/>
        
        <h:outputLabel value="code:"/>
        <input type="text" id="filter_LIKES_code" name="filter_LIKES_code"
            class="input_160" value="#{param['filter_LIKES_code']}"/>
        
        <h:outputLabel value="name:"/>
        <input type="text" id="filter_LIKES_name" name="filter_LIKES_name"
            class="input_160" value="#{param['filter_LIKES_name']}"/>
        

                        <p:commandButton action="#{dictBean.search}"
                                         ajax="false" value="Query" image="ui-icon ui-icon-search"/>
                    </h:panelGrid>
                </p:fieldset>

                <br/>

      <p:dataTable var="dict" value="#{dictBean.dictList}"
                 paginator="true" rows="2"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 rowsPerPageTemplate="2,10,15">

                    <f:facet name="header">List</f:facet>

    
        <p:column>
            <f:facet name="header"><h:outputText value="value"/>
            </f:facet><h:outputText value="#{dict.value}"/>
        </p:column>
        
        <p:column>
            <f:facet name="header"><h:outputText value="parentCode"/>
            </f:facet><h:outputText value="#{dict.parentCode}"/>
        </p:column>
        
        <p:column>
            <f:facet name="header"><h:outputText value="code"/>
            </f:facet><h:outputText value="#{dict.code}"/>
        </p:column>
        
        <p:column>
            <f:facet name="header"><h:outputText value="name"/>
            </f:facet><h:outputText value="#{dict.name}"/>
        </p:column>
        

                    <p:column style="width:80px;text-align:center;">
                        <f:facet name="header">
                            <h:outputText value="Action"/>
                        </f:facet>

                        <p:commandLink update=":dictForm:display" action="#{dictBean.view}" oncomplete="dictDialog.show()" value="Detail" ajax="false">
                            <f:setPropertyActionListener value="#{dict}" target="#{dictBean.instance}"/>
                        </p:commandLink>

                        <p:commandLink update=":dictForm:display"  oncomplete="dictDialog.show()" value="Edit">
                            <f:setPropertyActionListener value="#{dict}" target="#{dictBean.instance}"/>
                        </p:commandLink>

                        <p:commandLink update=":dictForm:display"  oncomplete="confirmation.show()" value="Delete">
                            <f:setPropertyActionListener value="#{dict}" target="#{dictBean.instance}"/>
                        </p:commandLink>

                    </p:column>

                </p:dataTable>

                <p:dialog header="Edit" widgetVar="dictDialog" resizable="false" id="dictDlg"
                          width="600" showEffect="fade" hideEffect="explode" modal="true">
                    <h:panelGrid id="display" columns="2" cellpadding="5" cellspacing="1" styleClass="style1"
                                 rowClasses="row1,row2" columnClasses="column1,column2" footerClass="footer1">

                        <ui:include src="input-item.xhtml"/>

                        <f:facet name="footer">
                            <p:commandButton id="btn_dict_Save" action="#{dictBean.save}" value="Save"  update="dictTable"
                                             image="ui-icon ui-icon-disk" ajax="false" title="Save"/>

                            <p:commandButton value="Cancel" onclick="dictDialog.hide()" image="ui-icon ui-icon-cancel" title="Cancel"/>
                        </f:facet>

                    </h:panelGrid>

               </p:dialog>


                <p:confirmDialog message="Are you sure?"  hideEffect="explode"
                                 header="Confirm" severity="alert" widgetVar="confirmation">
                    <p:commandButton update=":dictForm:dictTable" value="Yes sure   " oncomplete="confirmation.hide()"
                                     actionListener="#{dictBean.delete}"/>
                    <p:commandButton value="Not yet" onclick="confirmation.hide()" type="button"/>
                </p:confirmDialog>
            </p:panel>
        </h:form>

    </ui:define>

</ui:composition>

